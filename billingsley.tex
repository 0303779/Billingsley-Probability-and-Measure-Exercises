% --------------------------------------------------------------
%                         Start here
% --------------------------------------------------------------

\documentclass[12pt]{article}
\setcounter{secnumdepth}{0}
\usepackage[margin=1in]{geometry}
\usepackage{amsmath,amsthm,amssymb,mathtools,graphicx,enumitem,hyphenat,float}
\usepackage{accents}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\newcommand{\dbtilde}[1]{\accentset{\approx}{#1}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\F}{\mathcal{F}}
\newcommand{\A}{\mathcal{A}}
\newcommand{\B}{\mathcal{B}}
\newcommand{\J}{\mathcal{J}}
\newcommand{\G}{\mathcal{G}}
\newcommand{\lc}{\mathop l}
\newcommand{\C}{\mathbb{C}}
\newcommand{\lub}{\mathrm{lub}}
\newcommand{\g}{\mathrm{glb}}
\newcommand{\seq}{\subseteq}
\newcommand{\e}{\epsilon}
\newcommand{\la}{\lambda}
\newcommand{\om}{\omega}
\newcommand{\Om}{\Omega}
\newcommand{\de}{\delta}
\newcommand{\mbf}{\mathbf}
\newcommand{\es}{\emptyset}
\newcommand{\mc}{\mathcal}
\newcommand{\un}{\cup}
\newcommand{\ic}{\cap}
\newcommand{\gen}[1]{\ensuremath{\langle #1\rangle}}
\newcommand{\spn}{\mathrm{span \ }}
\newcommand{\dm}{\mathrm{dim \ }}
\newcommand{\Lm}{\mathcal{L}}
\newcommand{\nll}{\mathrm{null \ }}
\newcommand{\rng}{\mathrm{range \ }}
\newcommand{\dgr}{\mathrm{deg \ }}
\newcommand{\Lim}{\lim\limits}
\newcommand{\Sum}{\sum\limits}
\newcommand{\Pt}{\|P\|}
\newcommand{\dmn}{\mathrm{dom \ }}
\newcommand{\Prod}{\prod\limits}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}
\DeclarePairedDelimiter\ev{\langle}{\rangle}
\newcommand*\dif{\mathop{}\!\mathrm{d}}
\newcommand{\Beta}{\mathcal B}
\newcommand{\Seq}{\mathrm{Seq }}

\newenvironment{theorem}[2][Theorem]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{defn}[2][Definition]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{rmrk}[2][Remark]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{lemma}[2][Lemma]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{exercise}[2][Exercise]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{reflection}[2][Reflection]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{proposition}[2][Proposition]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
\newenvironment{corollary}[2][Corollary]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}
% --------------------------------------------------------------
%                         Start here
% --------------------------------------------------------------

\renewcommand{\qedsymbol}{$\blacksquare$}

\begin{document}

\title{Billingsley Probability and Measure}%replace X with the appropriate number
\author{A. K.} %if necessary, replace with your course title

\maketitle

\section*{Chapter 1. Probability}
\subsection*{1. Borel's Normal Number Theorem}
\begin{exercise}{1.1}
    \begin{enumerate}
        \item Show that a discrete probability space (see Example 2.8 for the formal definition) cannot contain an infinite sequence $A_1, A_2, \ldots$ of independent events each of probability $\frac{1}{2}$. Since $A_n$ could be identified with heads on the $n$th toss of a coin, the existence of such a sequence would make this section superflouous.
        \item Suppose that $0 \leq p_n \leq 1$ and put $\alpha_n = \min \{ p_n, 1 - p_n \}$. Show that if $\sum_n \alpha_n$ diverges, then no discrete probability space can contain independent events $A_1, A_n, \ldots$ such that $A_n$ has probability $p_n$.
    \end{enumerate}
\end{exercise}
\begin{proof}
    TBD.
\end{proof}

\begin{exercise}{1.2}
    Show that $N$ and $N^c$ are dense in $(0, 1]$.
\end{exercise}
\begin{proof}
    A set $A$ is dense in a set $B$ if $B \seq A^{-}$ where $A^{-}$ is the closure of $A$. The closure of $A$ is defined as the set of all $x$ such that there there is some sequence $\{ x_{n} \}_{n=1}^{\infty}$ in $A$ such that $\lim_{n \to \infty} x_n = x$. Define \[ N = \left [ \omega \in [0, 1) \mid \lim_{n \to \infty} \frac{1}{n} \sum_{i=1}^{n} d_i (\omega) = \frac{1}{2} \right ] \]
    Let $x \in (0, 1]$. Define $\{ x_{n} \}_{n=1}^{\infty}$ as follows: Let the first $n$ digits of $x_n$ (for $n > 1$) be equal to the first $n$ digits in the binary expansion of $x$. Suppose there are $m$ ones and $(n-m)$ zeros in these digits. If $m = n-m$ then letting the rest of the binary expansion alternate between 0 and 1 we'd have $x_n \in N$. If $m > n-m$, add $m-(n-m+1) = 2m - n - 1$ zeros to the binary expansion of $x_n$, then note that
    \begin{align*}
        \frac{1}{2m} \sum_{i=1}^{2m} d_i (x_n) &= \frac{1}{2m} \left (\sum_{i=1}^{n} d_i (x_n) + \sum_{n+1}^{2m} d_i (x_n) \right) \\
        &= \frac{1}{2m} \left ( m + (2m-(n+1) - (2m-n-1)) \right ) = \frac{1}{2}
    \end{align*}
    Letting the rest of the binary expansion alternate between $0$ and $1$ we'd have $x_n \in N$. A similar methodology is used when $m < n-m$. Hence $x_n \in N$. Suppose that $\e > 0$. Because $\lim_{n \to \infty} 2^{-n} = 0$, it follows that there is some $N \in \N$ such that for all $n \geq N$ we have $2^{-n} < \frac{\e}{2}$. Let $n \in \N$ such that $n \geq N$, note that $x_n$ and $x$ share the same $N$ digits in their binary expansions. It follows that
    \begin{align*}
        |x-x_n| &= \left | \sum_{i=N+1}^{\infty} 2^{-i}  (d_i (x) - d_i(x_n))\right | \leq \sum_{i=N+1}^{\infty} |d_i (x) - d_i (x_n)| 2^{-i} \\
        &\leq \sum_{i=N+1}^{\infty} 2^{-i} (2) \leq 2 \sum_{i=n+1}^{\infty} 2^{-i} = 2(2^{-N}) < 2 \left (\frac{\e}{2} \right) = \e
    \end{align*}
    Hence $\Lim_{n \to \infty} x_n = x$. It follows that $x \in N^{-}$, and because $x$ was arbitrary we have $(0, 1] \seq N^{-}$ and we see that $N$ is dense in $(0, 1]$. A similar proof can be constructed for $N^{c}$ and the details are ommitted.
\end{proof}

\begin{exercise}{1.3}
    Define a set $A$ to be trifling if for each $\e$ there exists a finite sequence of intervals $I_k$ satisfying (1.22) and (1.23).
    \[ A \seq \bigcup_{k} I_k \ (1.22) \text { and } \sum_{k} |I_k| < \e. \ (1.23) \]
    This definition and the definition of neglibility apply as they stand to all sets on the real line, not just to subsets of $(0, 1]$.
    \begin{enumerate}
        \item Show that a trifling set is negligible.
        \item Show that the closure of a trifling set is also trifling.
        \item Find a bounded negligible set that is not trifling.
        \item Show that the closure of a negligible set may not be negligible.
        \item Show that finite unions of trifling sets but that this can fail for countable unions.
    \end{enumerate}
\end{exercise}
\begin{proof}
    (1) Suppose that a set $A$ is trifling. Suppose that $\e > 0$. Because $A$ is triffling, there is a sequence $I_1, \ldots, I_n$ of intervals such that $A \seq \un_{k=1}^{n} I_k$ and $\sum_{k=1}^{n} |I_k| < \frac{\e}{2}$. Let $I_{k} = (0, \frac{\e}{2^{k}})$ for all $k > n$. Then obviously $A \seq \un_{k} I_k$ and,
    \[ \sum_{k=1}^{\infty} |I_k| = \sum_{k=1}^{n} |I_k| + \sum_{k=n+1}^{\infty} |I_k| < \frac{\e}{2}  + \sum_{k=n+1}^{\infty} \frac{\e}{2^{k}} = \frac{\e}{2} + \frac{\e}{2^{n}}  \leq \frac{\e}{2} + \frac{\e}{2} = \e    \]
    Hence $A$ is negligible. \\
    (2) Note that $A$ is bounded since it is a subset of the union of a finite number of bounded sets. 
\end{proof}

\pagebreak
\subsection*{2. Probability Measures}
\begin{defn}{1}
    Let $\Omega$ be a nonempty space. A class $\mc F$ of subsets of $\Omega$ is called a field if:
    \begin{enumerate}
        \item $\Omega \in \F$
        \item $A \in \F$ implies $A^c \in \F$
        \item $A, B \in \mc \F$ implies $A \un B \in \F$
    \end{enumerate}
    A set in a given class $\F$ is said to be measurable $\F$ or an $\F-$set. A $\sigma$ field is one in which (3) is replaced by the union of a countable number of sets.
\end{defn}

\begin{defn}{2}
    Let $\mc A$ be a field. The $\sigma$-field generated by $\mc A$, denoted $\sigma (\mc A)$ is the intersection of all $\sigma$-fields containing $\mc A$.
\end{defn}

\begin{rmrk}{3}
    $\sigma \mc A$ satisfies:
    \begin{enumerate}
        \item $\A \seq \sigma(\A)$.
        \item $\sigma(A)$ is a sigma-field
        \item If $\A \seq \mc G$ and $\mc G$ is a $\sigma$-field, then $\sigma (\A) \seq \mc G$.
    \end{enumerate}
\end{rmrk}


\begin{defn}{4}
    A set function is a real-value function defined on some class of subsets of a space $\Omega$.
\end{defn}

\begin{defn}{5}
    A set function $P$ on a field $\F$ is a probability measure if:
    \begin{enumerate}
        \item $0 \leq P(A) \leq 1$ for $A \in \mc F$.
        \item $P(\es) = 0$, $P(\Omega) = 1$
        \item If $(A_i)$ is a disjoint sequence of sets in $\F$ and if $\bigcup_{k=1}^{\infty} A_k \in \F$, then
        \[ P \left ( \bigcup_{k=1}^{\infty} A_k \right) = \sum_{k=1}^{\infty} P(A_k) \]
    \end{enumerate}
    The tripe $(\Omega, \F, P)$ is called a probability measure space or a probabiltiy space.
\end{defn}

\begin{defn}{6}
    A support of a probability measure $P$ is any $A \in \F$ for which $P(A) = 1$.
\end{defn}

\begin{defn}{9}
    A discrete probability space is a space $(\Omega, \F, P)$ in which $\Omega$ is countable, $\F = \mc P (\Omega)$ and there is a nonnegative function $p: \Omega \to \R$ such that $\sum_{w \in \Omega} p(w) = 1$ and $P(A) = \sum_{\omega \in \A} p(\omega)$.
\end{defn}

\begin{defn}{10}
    A probability measure $P$ is discrete if there exist finitely or countably many points $\omega_k$ and masses $m_k$ such that $P(A) = \sum_{\omega_k \in A} m_k$ for $A \in \F$, i.e., $P(A) = \sum_{k} m_k I_A (\omega_k)$.
\end{defn}

\begin{rmrk}{11}
    If $P$ is a probability measure, then
    \begin{enumerate}
        \item $P(A) \leq P(B)$ if $A \seq B$.
        \item $P(A^c) = 1 - P(A)$.
        \item $P(A \un B) = P(A) + P(B) - P(A \ic B)$
        \item 
        \begin{align*}
            P\left ( \bigcup_{k=1}^{n} A_k \right) &= \sum_{i} P(A_i) - \sum_{i < j} P(A_i \ic A_j) \\
            &+ \sum_{i < j < k} P(A_i \ic A_j \ic A_k) + \ldots + (-1)^{n+1} P(A_1 \ic \cdots \ic A_n).
        \end{align*}
        \item For any sequence $A_1, A_2, \ldots$ of sets in $\mc \F$, $P( \bigcup_{k=1}^{n} A_k) \leq \sum_{k=1}^{n} P(A_k)$. (Boole's inequality)
    \end{enumerate}
\end{rmrk}

\begin{theorem}{2.1}
    Let $P$ be a probability measure on a field $\mc F$.
    \begin{enumerate}
        \item Continuity from below: If $A_n$ and $A$ lie in $\F$ and $A_n \uparrow A$, then $P(A_n) \uparrow P(A)$.
        \item Continuity from above: If $A_n$ and $A$ lie in $\F$ and $A_n \downarrow A$, then $P(A_n) \downarrow P(A)$.
        \item Countable subadditivity: If $A_1, A_2, \ldots$ and $\bigcup_{k=1}^{\infty} A_k$ lie in $\F$ (they need not be disjoint), then
        \[ P \left ( \bigcup_{k=1}^{\infty} A_k \right) \leq \sum_{k=1}^{\infty} P(A_k) \]
    \end{enumerate}
\end{theorem}

\begin{defn}{12}
    Let $\J$ be the class of subintervals $(a, b]$ of $(0, 1]$ and define $\lambda (I) = |I| = b - a$, regard $\es$ as an element of $\J$ of length $0$. Let $A = \bigcup_{i=1}^{n} I_i$ be a finite disjoint union of sets in $\J$ (the set of all such sets is called $\B_0$). Then define \[ \lambda (A) = \sum_{i=1}^{n} \lambda(I_i), \]
    Then the last equation defines a set function $\lambda$ on $\B_0$ called the Lebesgue measure.
\end{defn}

\begin{theorem}{2.2}
    Lebesgue measure $\lambda$ is a (countably additive) probability measure on the field $\B_0$.
\end{theorem}

\begin{defn}{13}
    Let $S$ be a finite set of points. Let $\Om = S^{\infty}$ be the space of all infinite sequence
    \[ \om = (z_1 (\om), z_2 (\om), \ldots) \]
    be elements of $S$, where $z_k (\om) \in \S$ for all $\om \in S^{\infty}$ and $k \geq 1$.
\end{defn}

\begin{rmrk}{14}
    The space $S^{\infty}$ is an infinite-dimensional Cartesian product, each $z_k: S^{\infty} \to S$ is a coordinate function or natural projection. Let $S^{n} = S \times \cdots \times S$ n times.
\end{rmrk}

\begin{defn}{15}
    A cylinder of rank $n$ is a set of the form
    \[ A = [ \om : (z_1 (\om), \ldots, z_n (\om)) \in H] \]
    where $H \seq S^n$. A thin cylinder is one in which $H$ is a singleton. Let $\lc_0$ be the class of cylinders of all ranks.
\end{defn}

\begin{rmrk}{16}
    $\lc_0$ is a field.
\end{rmrk}


\begin{defn}{17}
    Let $p_u, u \in S$, be probabilities on $S$ (nonnegative and summing up to 1). Define $P$ on $\lc_0$ this way: For a cylinder $A$ of rank $n$ taken,
    \[ P(A) = \sum_{H} p_{u_1} \cdots p_{u_n} \]
    the sum extending over all the sequences $(u_1, \ldots, u_n)$ in $H$, where $H \seq S^n$ is from the definition of $A$. As a special case for a thin cylinder,
    \[ P[\om : (z_1 (\om), \ldots, z_n (\om)) = (u_1, \ldots, u_n)] = p_{u_1} \cdots p_{u_n} \]
    Because of the products on the right, $P$ is called a \emph{product measure}. (straight forward to prove it is a probability measure using Theorem 2.3)
\end{defn}

\begin{theorem}{2.3}
    Every finitely additive probability measure on the field $\lc_0$ of cylinders in $S^{\infty}$ is in fact countably additive.
\end{theorem}

\begin{lemma}{18}
    If $P$ is a finitely probability additive measure such that $A_n \downarrow \es$ for sets $A_n \in \F$ implies $P(A_n) \downarrow 0$, then $P$ is a countably additive probability measure.
\end{lemma}

\begin{lemma}{19}
    If $A_n \downarrow A$ where the $A_n$ are nonempty cylinders, then $A$ is nonempty.
\end{lemma}

\begin{rmrk}{20}
    Let $\lc$ be the $\sigma$-field in $S^{\infty}$ generated by $\lc_0$. By Section 3, the probabilty measure $P$ defined on $\lc_0$ extends to $\lc$. The term product measure, properly speaking, applies to the extended $P$.
\end{rmrk}

\hrulefill

\begin{exercise}{2.2}
    Let $A_1, \ldots, A_n$ be arbitrary events and put $U_k = \bigcup \left ( A_{i_1} \ic \cdots \ic A_{i_k} \right )$ and $I_k = \bigcap \left ( A_{i_1} \un \cdots \un A_{i_k} \right )$ where the union and intersection extend over all the k-tuples satisfying $1 \leq i_1 < \cdots < i_k \leq n$. Show that $U_k = I_{n-k+1}$.
\end{exercise}
\begin{proof}
    Suppose without loss of generality that $k \leq n-k+1$, let $\om \in U_k$, then there is a finite sequence $(i_1, \ldots, i_k)$ such that $\om \in A_{i_t}$ for $1 \leq t \leq k$, let $(j_t)$ be a finite sequence of length $n-k+1$ such that $1 \leq j_1 < \cdots < j_{n-k+1} \leq n$, then we note that it is impossible to choose such a sequence without choosing any of the $i_t$, since we have $(n-k+1)$ holes to fill and (if we try not to choose any of the $i_t$), $n-k$ numbers. It follows that for any such sequence we have $\om \in \bigcup_{t=1}^{n-k+1} A_{j_t}$ and hence $\om \in I_{n-k+1}$, it follows that $U_k \seq I_{n-k+1}$. \\
    Suppose that $\om \in I_{n-k+1}$, then there are at least $k$ distinct sets $A_m$ such that $\om \in A_m$ since if we suppose that they are less than $k$ such sets, then we can choose $n-(k-1)$ sets from $A_1, \ldots, A_n$, sort them in increasing order and index them by $(j_t)$ then we have $\om \notin A_{j_t}$ for $t \in \{ 1, \ldots, n-k+1 \}$ which is a contradiction to $\om \in I_{n-k+1}$. It follows that there are $k$ distinct sets $A_m$ such that $\om \in A_m$, sort them in increasing order of $m$ and index them by $i_1, \ldots, i_{k}$, then $\om \in (A_{i_1} \ic \cdots \ic A_{i_k})$ and as such $\om \in U_k$. It follows that $I_{n-k+1} \seq U_k$ and therefore $I_{n-k+1} = U_k$.
\end{proof}

\begin{exercise}{2.3}
    \begin{enumerate}
        \item Suppose that $\Omega \in \F$ and that $A, B \in \F$ implies $A - B \in \F$. Show that $\F$ is a field.
        \item Show that $\Om \in \F$ and that $\F$ is closed under the formation of complements and finite disjoint unions. Show that $\F$ need not be a field.
    \end{enumerate}
\end{exercise}
\begin{proof}
    \begin{enumerate}
        \item \begin{enumerate}
            \item Note that $\Om \in \F$ (given) and since $\Om \in \F$ implies $\Om - \Om = \es \in \F$ we have $\es \in \F$.
            \item Let $A \in \F$, then $A^{c} = \Om - A \in \F$.
            \item Let $A, B \in \F$, then because $A^{c} \in \F$ we have
            \[ (A \un B)^{c} = A^{c} - B \in \F \]
            And then $A \un B = ((A \un B)^{c})^{c} \in \F$.
        \end{enumerate} 
        \item Let $\Om = \{ 1, 2, 3, 4 \}$ and let 
        \[ A = \{ \es, \{ 1, 2 \}, \{ 2, 3 \}, \{ 3, 4 \}, \{ 1, 4 \}, \{ 1, 2, 3, 4 \} \} \]
        Then $A$ is closed under complements and disjoint unions, but not unions since \[ \{ 1, 2 \} \un \{ 2, 3 \} = \{ 1, 2, 3 \} \notin A \]
        It follows that $A$ is not a field.
    \end{enumerate}
\end{proof}

\begin{exercise}{2.4}
    Let $\F_1, \F_2, \ldots$ be classes of sets in a common space $\Om$.
    \begin{enumerate}
        \item Suppose that $\F_n$ are fields satisfying $\F_n \seq \F_{n+1}$. Show that $\bigcup_{n} \F_n$ is a field.
        \item Suppose that $\F_n$ are $\sigma$-fields satisfying $\F_n \seq \F_{n+1}$. Show that $\bigcup_{n} F_n$ need not be a $\sigma-$field.
    \end{enumerate}
\end{exercise}
\begin{proof}
    \begin{enumerate}
        \item Let $\F = \bigcup_{n} \F_n$. Then,
        \begin{enumerate}
            \item Since $\Om \in \F_n$ and $\es \in \F_n$ for all $n$, we have $\Om \in \F$.
            \item Let $A \in \F$, then $A \in \F_n$ for some $n \in \N$, then $A^{c} \in \F_n$ and hence $A \in \F$.
            \item Let $A, B \in \F$, suppose that $A \in \F_n$ and that $B \in \F_m$ and that $n \leq m$, then because $\F_n \seq \F_{n+1} \cdots \seq\F_m $ it follows that $A, B \in \F_n$, hence $A \un B \in \F_n$ and as such $A \un B \in \F$.
        \end{enumerate}
        \item Let $\Om = \N$, let $A_n = \mc P (\{ 1, \ldots, n \})$ and define,
        \[ \F_n = A_n \un \{ \es, \N \} \un \{ X \seq \N \mid X = \N - Y \text { for some } Y \in A_n\}  \]
        It is straightforward to prove by induction on $n$ that each $\F_n$ is a $\sigma$-field and that $\F_n \seq \F_{n+1}$. Let $\F = \bigcup_{n} F_n$, then $\F$ is a countable union of countable sets and as such is countable, but this is a contradiction to Exercise 2.12. Note that the field in question $\F$ is a countably infinite field by Part (1) of this exercise yet it is not a $\sigma$-field.
    \end{enumerate}
\end{proof}

\begin{exercise}{2.5}
    The field $f (\A)$ generated by a class $\A$ in $\Om$ is defined as the intersection of all fields in $\Om$ containing $\A$.
    \begin{enumerate}
        \item Show that $f(\A)$ is a field, that $\A \seq f(\A)$ and that $f(\A)$ is minimal in the sense that if $\G$ is a field and $\A \seq \G$, then $f(\A) \seq G$.
        \item Show that for nonempty $\A$, $f(\A)$ is the class of sets of the form $\bigcup_{i=1}^{m} \bigcap_{j=1}^{n_i} A_{ij}$ where for each $i$ and $j$ either $A_{ij} \in \A$ or $A_{ij}^{c} \in \A$, and where the $m$ sets $\bigcap_{j=1}^{n_j} A_{ij}$, $1 \leq i \leq m$, are disjoint.
    \end{enumerate}
\end{exercise}
\begin{proof}
    \begin{enumerate}
        \item That $f(\A)$ is minimal is straightforward from the definition. To see that it is a field,
        \begin{enumerate}
            \item Let $\F$ be any field containing $\A$, then $\Om \in \F$ and $\es \in \F$ imply $\Om \in f(\A)$ and $\es \in f(\A)$.
            \item Suppose that $A \in f(\A)$, then $A \in \F$ for all fields $\F$ containing $\A$, hence $A^{c} \in \F$ for all fields containing and therefore $A^{c} \in f(\A)$.
            \item If $A, B \in f(\A)$, then $A \un B \in f(\A)$ by a similar argument to (b).
        \end{enumerate}
        \item Let 
        \begin{align*}
            \G = \Big \{ \bigcup_{i=1}^{m} \bigcap_{j=1}^{n_i} A_{ij} : & A_{ij} \in \A \text { or } A_{ij}^{c} \in \A, m \geq 0, n_i \geq 0, \\
            & \text { and the }  \bigcap_{j=1}^{n_i} A_{ij} \text { are disjoint} \Big \}
        \end{align*}
        First we prove that $\G$ is a field for nonempty $\A$,
        \begin{enumerate}
            \item Let $A_{11} \in \A$, taking $m=2$, $n_1 = n_2 = 1$ and $A_{21} = \Om - A_{11}$ we have
            \[ \bigcup_{i=1}^{m} \bigcap_{j=1}^{n_i} A_{ij} = (A_{11}) \un (\Om - A_{11}) = \Om \]
            Hence $\Om \in \G$. Taking $m=1$, $n_1 = 2$ with $A_{11}$ and $A_{12} = \Om - A_{11}$ yields $\es \in \G$.
            \item Let $A \in \G$ and $B \in \G$, then
            \[ A = \bigcup_{i=1}^{m} \bigcap_{j=1}^{n_i} A_{ij} \text { and } B = \bigcup_{i=1}^{s} \bigcap_{j=1}^{t_i} B_{ij} \]
            Suppose without loss of generality that $m \geq s$, then let $C_{i,j} = A_{i,j}$ if $1 \leq i \leq m$ and $1 \leq j \leq n_j$, and let $C_{i, j+n_j} = B_{i, j}$ if $1 \leq i \leq s$ and $1 \leq j \leq n_j$, and let $v_i = n_i + t_i$ if $1 \leq i \leq s$ and $v_i = n_i$ otherwise, then 
            \[ C = \bigcup_{i=1}^{m} \bigcap_{j=1}^{v_i} C_{ij} = A \ic B \]
            with the $m$ sets $\bigcap_{j=1}^{v_i} C_{ij}$ obviously disjoint. It follows that $C \in \G$ and hence $A \ic B \in \G$ if $A, B \in \G$.
            \item Suppose that $A \in \G$, then there exist $A_{ij}$ such that
            \[ A = \bigcup_{i=1}^{m} \bigcap_{j=1}^{n_i} A_{ij}  \longrightarrow A^{c} = \bigcap_{i=1}^{m} \bigcup_{j=1}^{n_i} A_{ij}^{c} \]
            Take $B_{i} = \bigcup_{j=1}^{n_i} A_{ij}^{c}$, note that either $A_{ij} \in \A$, in which case $(A_{ij}^{c})^c \in \A$ or $A_{ij}^{c} \in \A$, it follows that $B_i \in \G$ (with $m = 1$) for $1 \leq i \leq m$. Now we invoke part (b) (and induction) to conclude that
            \[ A^{c} = \left (B_1 \ic B_2 \ic \cdots \ic B_m \right) \in \G \] 
            \item Finally, let $A, B \in \G$, then
            \[ A \un B = (A^{c} \ic B^{c})^{c} \in \G \]
            Hence $A \un B \in \G$ if $A, B \in \G$, and therefore $\G$ is a field.
        \end{enumerate}
        It follows that $\G$ is a field such that $A \seq \G$, therefore $f(\A) \seq \G$. To see that $\G \seq f(\A)$, let $X \in \G$, then
        \[ X = \bigcup_{i=1}^{m} \bigcap_{j=1}^{n_i} A_{ij} \]
        where either $A_{ij} \in \A$ or $A_{ij} \in \A^{c}$, note that each $A_{ij} \in f(\A)$ (since each singleton $A_{ij} \in \A \seq f(\A)$ or $A_{ij}^{c} \in \A$, hence $A_{ij}^{c} \in f(\A)$ and therefore $A_{ij} \in f(\A)$ since $f(\A)$ is closed under complements). Then $X$ is a finite union over finite intersections of sets in $f(\A)$, and is therefore in $f(\A)$ because $f(\A)$ is a field. It follows that $\G \seq f(\A)$, as required. 
    \end{enumerate}
\end{proof}

\begin{exercise}{2.6}
    \begin{enumerate}
        \item Show that if $\A$ consists of the singletons, then $f(\A)$ is the field in Example 2.3. From Example 2.3: $\F$ is the set of all finite and cofinite ($A$ being cofinite if $A^c$ is finite) subsets of $\Om$.
        \item Show that $f(\A) \seq \sigma (\A)$, that $f(\A) = \sigma (\A)$ if $\A$ is finite, and that $\sigma (f(\A)) = \sigma (\A)$.
        \item Show that if $\A$ is countable, then $f(\A)$ is countable.
        \item Show for fields $\F_1$ and $\F_2$ that $f(\F_1 \un \F_2)$ consists of the finite disjoint unions of sets $A_1 \ic A_2$ with $A_i \in \F_i$. Extend.
    \end{enumerate}
\end{exercise}
\begin{proof}
    \begin{enumerate}
        \item Let $\F = f(\A)$. Let $X \in \F$, then by Exercise 2.5 
        \[ X = \bigcup_{i=1}^{m} \bigcap_{j=1}^{n_i} A_{ij} \]
        where either $A_{ij} \in \A$ or $A_{ij}^c \in \A$, let $X_i = \bigcap_{j=1}^{n_i} A_{ij}$. Fix $i$, if any $A_{ij} \in \A$ then $X_i$ is at most a singleton, and therefore finite. Suppose that for all $1 \leq j \leq n_i$ we have $A_{ij}^{c} \in \A$, then
        \[ X_{i} = \bigcap_{j=1}^{n_j} A_{ij} \longrightarrow X_{i}^{c} = \bigcup_{j=1}^{n_j} A_{ij}^{c} \]
        Note that each of the $A_{ij}^{c}$ is in $\A$ and therefore a singleton, it follows that $X_i^{c}$ is a finite union of singletons and is therefore finite, hence $X_i$ is cofinite. It follows that $X_i$ is either finite or cofinite, if all the $X_i$ are finite then $X$ is finite, otherwise note that
        \begin{align*}
            X^{c} &= \bigcap_i X_i^{c} = \left (\bigcap_{X_i \text { finite }} X_i^{c} \right) \bigcap \left (\bigcap_{X_{i} \text { cofinite }} X_i^{c} \right) 
        \end{align*}
        Note that the for the cofinite $X_i$, $X_i^{c}$ is finite, hence $X^{c}$ is finite, and therefore $X$ is cofinite. It follows that $X$ is either finite or cofinite, as required.
        \item If $X \in f(\A)$, then $X$ is a finite union over intersections of sets (or complements of sets) in $\A$, and is therefore in $\sigma (\A)$, hence $f(\A) \seq \sigma (\A)$. \\
        If $\A$ is finite, then countable unions over elements of $\A$ can always be rewritten as finite unions over elements of $\A$, which are in $f(\A)$, it would then follow that $f(\A) = \sigma (\A)$. \\
        If $\G$ is a $\sigma$-field containing $f(\A)$, then because $\A \seq f(\A)$ we have that $\G$ is a $\sigma$-field containg $\A$, hence $\sigma (\A) \seq \G$, taking the intersection over all such $\G$'s yields $\sigma (\A) \seq \sigma (f (\A))$, it follows that since $\sigma (f(\A))$ as well we must have $\sigma (f(\A)) = \sigma (\A)$. 
        \item If $\A$ is countable, then every $X \in f(\A)$ is countable (since $X$ is a finite union over a finite intersection of countable sets), and since $f(\A)$ is a countable union of singletons (each containing one such set) then $f(\A)$ is countable.
        \item Let $X \in f(\F_1 \un \F_2)$, let $X \in f(\F_1 \un \F_2)$, then
        \[ X = \bigcup_{i=1}^{m} \bigcap_{j=1}^{n_i} A_{ij} \]
        with $A_{ij} \in \F_1 \un \F_2$ or $A_{ij}^{c} \in \F_1 \un \F_2$. Note that $A_{ij} \in \F_k$ and $A_{ij}^{c} \in \F_k$ are equivalent for fields, therefore we need only worry about one of them. Let $X_i = \bigcap_{j=1}^{n_i} A_{ij}$ and rewrite it as $X_i = \bigcap_{k=1}^{2} X_{i, k}$ where $X_{i, k} = \bigcap_{j : A_{ij} \in \F_{k} } A_{ij}$, because each of the $X_{i, k}$ is a finite intersection of sets in $\F_k$, then $X_{i, k} \in \F_k$ and hence
        \[ X = \bigcup_{i=1}^{m} (X_{i, 1} \ic X_{i, 2}) \]
        where the sets $X_{i, 1} \ic X_{i, 2}$ are all disjoint (because all the $X_i$ are disjoint), as required. The analysis extends directly to any $k \in \N$ such that $k \geq 1$.
    \end{enumerate}
\end{proof}

\begin{exercise}{2.7}
    Let $H$ be a set lying outside $\F$, where $\F$ is a field (or $\sigma$-field). Show that the field (or $\sigma$-field) generated by $\F \un \{ H \}$ consists of sets of the form
    \[ (H \ic A) \un (H^{c} \ic B), \text { where } A, B \in \F \]
\end{exercise}
\begin{proof}
    Let $\F$ be a $\sigma$-algebra and $H$ be a set lying outside $\F$, define
    \[ \G = \{ (H \ic A) \un (H^{c} \ic B) \mid A, B \in \F \} \]
    We first prove that $\G$ is a $\sigma$-algebra.
    \begin{enumerate}
        \item $\es = (H \ic \es) \un (H^{c} \ic \es)$ and $\Om = (H \ic \Om) \un (H^{c} \ic \Om)$, hence $\es \in \G$ and $\Om \in \G$.
        \item Let $X, Y \in \G$ be such that
        \[ X = (H \ic A_1) \un (H^{c} \ic B_1) \text{ and } Y = (H \ic A_2) \un (H^{c} \ic B_2) \]
        Then, using boolean indicator notation for simplicity:
        \begin{align*}
            X - Y &= X \bar{Y} = (H A_1 + \bar H B_1) (\bar H + \bar A_2) (H + \bar B_2) \\
            &= H(A_1 \bar A_2 + A_1 \bar A_2 \bar B_2) + \bar H (B_1 \bar B_2 + B_1 \bar A_2 \bar B_2) = H A_1 \bar A_2 + \bar H B_1 \bar B_2 \\
            &= (H \ic (A_1 - A_2)) \un (H^{c} \ic (B_1 - B_2)) \in \G
        \end{align*}
        Because $A_1 - A_2 \in \F$ and $B-1 - B_2 \in \F$, we have $X - Y \in \G$. As a special case, we have $X^{c} = \Om - X \in \G$.
        \item Let $(X_i) \in \G$ and suppose that $X_i = H A_i + \bar H B_i$ for all $i \in \N$, then
        \begin{align*}
            \bigcup_{i=1}^{\infty} X_i &= \Sum_{i=1}^{\infty} X_i = \Sum_{i=1}^{\infty} (H A_i + \bar H B_i) = H \Sum_{i} A_i + \bar H \Sum_{i} B_i \\
            &= H \left ( \bigcup_{i=1}^{\infty} A_i \right) + \bar{H} \left ( \bigcup_{i=1}^{\infty} B_i \right)
        \end{align*}
        Because $\F$ is a $\sigma$-field, then $\left ( \bigcup_{i=1}^{\infty} A_i \right) \in \F$ and $\left ( \bigcup_{i=1}^{\infty} G_i \right) \in \F$, hence $\left ( \bigcup_{i=1}^{\infty} X_i \right) \in \G$, as required.
    \end{enumerate}
    It follows that $\sigma(\F \un \{ H \}) \seq \G$. Let $X \in \G$, then $X = (H \ic A) \un (H^{c} \ic B)$ for $A, B \in \F$, noticing that $A, B, H, H^{c} \in \sigma (\F \un \{ H \})$, it follows that $X \in \sigma (F \un \{ H \})$, and because $X$ was arbitrary we have $\G \seq \sigma (\F \un \{ H \})$ and therefore $G = \sigma (\F \un \{ H \})$, as required. A similar proof works when $\F$ is an algebra (there is in fact an easier proof for that case using Exercise 2.6).
\end{proof}

\begin{exercise}{2.8}
    Suppose for each $A \in \A$ that $A^{c}$ is a countable union of elements of $\A$. The class of intervals in $(0, 1]$ has this property. Show that $\sigma (\A)$ coincides with the smallest class over $\A$ that is closed under the formation of countable unions and intersections.
\end{exercise}
\begin{proof}
    Let $\G$ be closed under the formation of countable unions and intersections and $\A \seq \G$, then
    \begin{enumerate}
        \item Let $A \in \A$, then $A^{c}$ is a countable union of elements of $\A$, and hence $A^{c} \in \G$.
        \item Let $A \in \A$, then $\es = A \ic A^{c}$ implies $\es \in \G$ and $\Om = A \un A^{c}$ implies $\Om \in \G$.
        \item $\G$ is closed under countable unions by definition.
    \end{enumerate}
    Hence $\G$ is a $\sigma$-algebra, and it follows that $\sigma (\A) \seq \G$, let $s(\A)$ denote the intersection of all such sets $\G$, then $\sigma (\A) \seq s(\A)$. Let $\F$ be a $\sigma$-algebra such that $\A \seq \F$, then $\F$ is closed under countable unions and intersections over $\A$, hence $s(\A) \seq \F$, and because $\F$ was arbtirary we have $s(\A) \seq \sigma(\A)$. It follows that $\sigma (\A) = s(\A)$, as required.
\end{proof}

\begin{exercise}{2.9}
    Show that, if $B \in \sigma (\A)$, then there exists a countable subclass $\A_{B}$ of $\A$ such that $B \in \sigma (\A_{B})$.
\end{exercise}
\begin{proof}
    Define
    \[ \G = \{ B \in \sigma (\A) : \text{ There exists a countable subclass } \A_{B} \text { of } \A \text { with } B \in \sigma (\A_B) \} \]
    We first show that $\G$ is a sigma algebra:
    \begin{enumerate}
        \item Choose any sequence $A_1, A_2, \ldots \in \A$, let $\A_{A} = \{ A_1, A_2, \ldots \}$, then $\A_{A}$ is a countable subclass of sets in $\A$, and $\es \in \sigma (\A_A)$ and $\Om \in \sigma (\A_A)$, hence $\es \in \G$ and $\Om \in \G$.
        \item Let $B \in \G$, then there is a countable subclass $\A_B$ of $\A$ with $B \in \sigma (\A_B)$, since $B^{c} \in \sigma (\A_B)$ as well, it follows that $B^{c} \in \G$.
        \item Suppose that $B_1, B_2, \ldots$ is a sequence of sets in $\G$. Then there exists a sequence $\A_{B_1}, \A_{B_2}, \ldots$ of countable subclasses of $\A$ with $B_i \in \sigma (\A_{B_i})$ for $i \geq 1$. Let $\A_{B} = \bigcup_{i=1}^{\infty} \A_{B_i}$, and note that $\A_B$ is a countable union of countable sets, and is therefore a countable subclass of sets in $\A$. Since $B_1, B_2, \ldots$ are all in $\A_B$, it follows that $\bigcup_{i=1}^{\infty} B_i \in \sigma (\A_B)$, and because $\A_B$ has been proven countable we have $\bigcup_{i=1}^{\infty} B_i \in \G$.
    \end{enumerate}
    Since $\G$ is a $\sigma$-algebra with $\A \seq \G$, it follows that $\sigma (\A) \seq \G$, but from the definition of $\G$ we have $\G \seq \sigma (\A)$, hence $\G = \sigma (\A)$, which proves what we want.
\end{proof}

\begin{exercise}{2.10}
    \begin{enumerate}
        \item Show that if $\sigma (\A)$ contains every subset of $\Omega$, then for each pair $\om$ and $\om'$ of distinct points in $\Om$ there is in $\A$ an $A$ such that $I_A (\om) \neq I_A (\om')$.
        \item Show that the reverse implication holds if $\Om$ is countable.
        \item Show by example that the reverse implication need not hold for uncountable $\Om$.
    \end{enumerate}
\end{exercise}
\begin{proof}
    \begin{enumerate}
        \item Suppose that there is a pair of points $\om$ and $\om'$ of distinct points in $\Om$ such that $I_{A} (\om) = I_{A} (\om')$ for all $A \in \A$. Define 
        \[ \G = \{ B \in \sigma (\A): I_{B} (\om) = I_{B} (\om') \} \]
        We prove that $\G$ is a $\sigma$-algebra
        \begin{enumerate}
            \item $\om \notin \es$ and $\om' \not\in \es$, hence $\es \in \G$. $\om \in \Om$ and $\om' \in \Om$, hence $\Om \in \G$.
            \item Suppose that $B \in \G$, then $I_B (\om) = I_B (\om')$ and hence 
            \[ I_{B^c} (\om) = 1 - I_{B} (\om) = 1 - I_B (\om') = I_{B^c} (\om') \]
            It follows that $B^{c} \in \G$.
            \item Suppose that $B_{1}, B_{2}, \ldots$ is a sequence of sets in $\G$. Let $B = \bigcup_{i} B_i$, obviously $B \in \sigma (\A)$. If there is some $B_{i}$ such that $\om \in B_i$, then $\om' \in B_i$ and hence $\om \in B$ and $\om' \in B$, therefore $I_B (\om) = I_B (\om')$. If not, then for all $B_{i}$ we have $I_{B_i} (\om) = I_{B_i} (\om') = 0$ then $\om \notin B_{i}$ for all $i \in \N$, hence $\om \notin B$ and similarly $\om' B$, and we see that in both cases we have $I_B (\om) = I_B (\om')$, therefore $B \in \G$.
        \end{enumerate}
        Hence $\G$ is a $\sigma$-algebra, and clearly $\G$ contains $\A$ (since we assume that $I_A (\om) = I_A (\om')$ for all $A \in \A$ and for any such $A$ we have $A \in \sigma(\A)$), it follows that $\sigma (\A) \seq \G$, but $\G \seq \sigma (\A)$, hence $\G = \sigma (\A)$, but this is a contradiction since 
        \[ \{ \om \} \notin \G \text { yet } \{ \om \} \in \mc P (\Om), \]
        It follows that there can be no such pair of points.
        \item Suppose that $\Om$ is countable. Let $\om \in \Om$, produce an enumeration $\om_1, \om_2, \ldots$ of elements in $\Om - \{ \om \}$ (which is also countable). Define $B_{i}$ to be a set such that $I_{B_i} (\om_i) \neq I_{B_i} (\om)$ for all $i \geq 2$. If $\om \in B_i$ let $A_i = B_i$, then $\om \in B_i$ and $\om_i \notin B_i$, If $\om \notin B_i$, let $A_i = B_i^{c}$, then $\om \in A_i$ and $\om_i \notin A_i$. We see that for each $A_{i}$ we have $\om \in A_i$ and $\om_i \notin A_i$, hence
        \[ \bigcap_{i=1}^{n} A_i = \{ \om \} \]
        Noticing that each $A_i \in \sigma (\A)$ we see that $\{ \om \} \in \sigma (\A)$, and because $\om$ was arbitrary we see that $\sigma (\A)$ includes all the singletons and hence includes any subset of $\Om$, since any such subset is a countable union of singletons in $\sigma (\A)$. 
        \item Let $\Om = [0, 1)$. Find an $\A$ such that for each pair $\om$ and $\om'$ of distinct points in $\Om$ there is an $A \in \A$ such that $I_A (\om) \neq I_A (\om')$ but that $\sigma (\A)$ does not contain every subset of $\Om$. Let 
        \[ \A = \left \{ \left [a, \frac{1}{n} \right] : 0 \leq a \leq \frac{1}{n} \text { and } n \in \N \right \} \]
        Define
        \[ \G = \{ B \in \sigma (\A) \mid \} \]
    \end{enumerate}
\end{proof}




\end{document}
